<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mentaliza - Apoio Emocional</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Montserrat:wght@700&display=swap" rel="stylesheet">
<script src="https://js.puter.com/v2/"></script>
<style>
    /* 1. Uso de box-sizing para facilitar o layout */
    * {
        box-sizing: border-box;
    }

    /* 2. VariÃ¡veis CSS para cores */
    :root {
        --cor-roxo-claro: #9575cd;
        --cor-roxo-medio: #7e57c2;
        --cor-bege-claro: #fdf8f0;
        --cor-cinza-escuro: #333;
        --cor-cinza-claro: #555;
    }

    body {
        font-family: 'Roboto', sans-serif;
        margin: 0;
        padding: 0;
        background: var(--cor-bege-claro);
        color: var(--cor-cinza-escuro);
    }
    header {
        background: var(--cor-roxo-claro);
        color: white;
        text-align: center;
        padding: 25px;
        font-family: 'Montserrat', sans-serif;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    header h1 {
        margin: 0;
        font-size: 2.5em;
    }
    header p {
        margin: 5px 0 0 0;
        font-size: 1.2em;
    }
    section {
        margin: 30px 10%;
    }
    .card {
        background: white;
        border-radius: 12px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        margin-bottom: 25px;
        padding: 20px;
        transition: transform 0.2s;
    }
    .card:hover {
        transform: translateY(-2px);
    }
    .card h3 {
        margin-top: 0;
        color: var(--cor-roxo-medio);
        font-family: 'Montserrat', sans-serif;
    }
    .technique {
        margin: 15px 0;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    .technique h4 {
        margin: 0;
    }
    .details {
        display: none;
        margin-left: 30px;
        color: var(--cor-cinza-claro);
    }
    .video {
        margin: 15px 0;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    }
    .video iframe {
        width: 100%;
        height: 250px;
        border: none;
        border-radius: 12px;
    }
    #chat-container {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }
    #user-input {
        padding: 10px;
        border-radius: 8px;
        border: 1px solid #ccc;
        resize: none;
    }
    #send-btn {
        background: var(--cor-roxo-claro);
        color: white;
        padding: 10px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        width: 120px;
    }
    #send-btn:hover {
        background: var(--cor-roxo-medio);
    }
    #chat-output {
        display: flex;
        flex-direction: column;
    }
    #chat-output p {
        margin: 5px 0;
        padding: 8px;
        border-radius: 8px;
        word-wrap: break-word; /* 3. Garante que mensagens longas quebrem a linha */
        max-width: 80%; /* 4. Mensagens nÃ£o ocupam a largura total */
    }
    #chat-output p.user {
        background: #dcedc8;
        align-self: flex-end;
    }
    #chat-output p.ai {
        background: #e1bee7;
        align-self: flex-start;
    }
    /* 5. Estilo para a animaÃ§Ã£o de "digitando..." */
    @keyframes blink {
        50% { opacity: 0; }
    }
    #typing::after {
        content: '...';
        display: inline-block;
        animation: blink 1.2s infinite steps(1, start);
    }
    footer {
        background: var(--cor-roxo-medio);
        color: white;
        text-align: center;
        padding: 25px;
        margin-top: 50px;
    }
    footer a {
        color: var(--cor-roxo-claro);
        text-decoration: none;
    }
    .feedback-form {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }
    .feedback-form input, .feedback-form textarea {
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 8px;
    }
    .feedback-form button {
        background: var(--cor-roxo-claro);
        color: white;
        padding: 10px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        width: 150px;
    }
    .feedback-form button:hover {
        background: var(--cor-roxo-medio);
    }
</style>
</head>
<body>

<header>
Â  <h1>Mentaliza</h1>
Â  <p>Seu espaÃ§o de acolhimento emocional</p>
</header>

<section>
Â  <div class="card">
Â  Â  <h3>Chat com a IA ğŸ¤–</h3>
Â  Â  <p>Converse com nossa IA acolhedora e empÃ¡tica. Ela estÃ¡ aqui para ouvir vocÃª.</p>
Â  Â  <div id="chat-container">
Â  Â  Â  <textarea id="user-input" rows="4" placeholder="Digite sua mensagem..."></textarea>
Â  Â  Â  <button id="send-btn">Enviar</button>
Â  Â  Â  <div id="chat-output"></div>
Â  Â  </div>
Â  </div>
</section>

<section>
Â  <div class="card">
Â  Â  <h3>TÃ©cnicas RÃ¡pidas âœ¨</h3>
Â  Â  Â  Â  <div class="technique" role="button" aria-expanded="false"><span>ğŸ§˜â€â™‚ï¸</span><h4>MeditaÃ§Ã£o Guiada</h4></div>
Â  Â  <div class="details">Encontre um lugar tranquilo, feche os olhos, respire profundamente e sinta a calma preenchendo seu corpo...</div>
Â  Â  <div class="technique" role="button" aria-expanded="false"><span>ğŸ’¨</span><h4>Controle da Ansiedade</h4></div>
Â  Â  <div class="details">Respire profundamente pelo nariz, segure 4 segundos e expire lentamente. Repita 5 vezes e sinta o relaxamento...</div>
Â  Â  <div class="technique" role="button" aria-expanded="false"><span>ğŸ¦‹</span><h4>AbraÃ§o de Borboleta</h4></div>
Â  Â  <div class="details">Cruze os braÃ§os em X no peito e bata suavemente nas mÃ£os, sentindo conforto e acolhimento...</div>
Â  Â  <div class="technique" role="button" aria-expanded="false"><span>ğŸ¤¸â€â™€ï¸</span><h4>Alongamento</h4></div>
Â  Â  <div class="details">Estique braÃ§os acima da cabeÃ§a, incline o tronco suavemente e respire fundo, liberando tensÃ£o...</div>
Â  </div>
</section>

<section>
Â  <div class="card">
Â  Â  <h3>VÃ­deos TerapÃªuticos ğŸ¬</h3>
Â  Â  <div class="video">
Â  Â  Â  <h4>MeditaÃ§Ã£o Guiada</h4>
Â  Â  Â  <iframe src="https://www.youtube.com/embed/pv-aymg97JM" allowfullscreen></iframe>
Â  Â  </div>
Â  Â  <div class="video">
Â  Â  Â  <h4>Controle da Ansiedade</h4>
Â  Â  Â  <iframe src="https://www.youtube.com/embed/B2O6-EWJLJA" allowfullscreen></iframe>
Â  Â  </div>
Â  Â  <div class="video">
Â  Â  Â  <h4>AbraÃ§o de Borboleta</h4>
Â  Â  Â  <iframe src="https://www.youtube.com/embed/wMzQAPcvyWw" allowfullscreen></iframe>
Â  Â  </div>
Â  Â  <div class="video">
Â  Â  Â  <h4>Alongamento</h4>
Â  Â  Â  <iframe src="https://www.youtube.com/embed/0R7OC4N5oD4" allowfullscreen></iframe>
Â  Â  </div>
Â  </div>
</section>

<section>
Â  <div class="card">
Â  Â  <h3>Feedback ğŸ“¬</h3>
Â  Â  <form class="feedback-form">
Â  Â  Â  Â  Â  Â  <label for="nome" style="display: none;">Seu nome</label>
Â  Â  Â  <input type="text" id="nome" placeholder="Seu nome" required>
Â  Â  Â  <label for="mensagem" style="display: none;">Sua mensagem</label>
Â  Â  Â  <textarea id="mensagem" placeholder="Sua mensagem" required></textarea>
Â  Â  Â  <button type="submit">Enviar Feedback</button>
Â  Â  </form>
Â  </div>
</section>

<footer>
Â  <p>O Mentaliza Ã© um serviÃ§o <strong>educativo e preventivo</strong>. Ele <strong>nÃ£o substitui</strong> acompanhamento psicolÃ³gico ou psiquiÃ¡trico.</p>
Â  <p><a href="https://www.cvv.org.br/188/">Se vocÃª estiver em risco ou em crise, ligue 188 (CVV â€“ Brasil, 24h)</a> ou procure o SAMU/UPA mais prÃ³xima.</p>
</footer>

<script>
Â  // 8. Melhorias no JavaScript com funÃ§Ãµes e uso de appendChild
Â  
Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  const chatOutput = document.getElementById('chat-output');
Â  Â  const userInput = document.getElementById('user-input');
Â  Â  const sendBtn = document.getElementById('send-btn');
Â  Â  const feedbackForm = document.querySelector('.feedback-form');

Â  Â  // FunÃ§Ã£o para criar e adicionar mensagens ao chat
Â  Â  function createAndAppendMessage(text, type) {
Â  Â  Â  const p = document.createElement('p');
Â  Â  Â  p.className = type;
Â  Â  Â  // Uso de textContent para seguranÃ§a contra XSS
Â  Â  Â  p.textContent = `${type === 'user' ? 'VocÃª' : 'IA'}: ${text}`;
Â  Â  Â  chatOutput.appendChild(p);
Â  Â  Â  chatOutput.scrollTop = chatOutput.scrollHeight;
Â  Â  }

Â  Â  // LÃ³gica para o chat
Â  Â  async function handleChatSubmit() {
Â  Â  Â  const userMessage = userInput.value.trim();
Â  Â  Â  if (!userMessage) return;

Â  Â  Â  createAndAppendMessage(userMessage, 'user');
Â  Â  Â  userInput.value = '';

Â  Â  Â  const typing = document.createElement('p');
Â  Â  Â  typing.id = 'typing';
Â  Â  Â  typing.className = 'ai';
Â  Â  Â  typing.textContent = "IA: Mentaliza estÃ¡ digitando";
Â  Â  Â  chatOutput.appendChild(typing);
Â  Â  Â  chatOutput.scrollTop = chatOutput.scrollHeight;

Â  Â  Â  const lowerInput = userMessage.toLowerCase();
Â  Â  Â  if (lowerInput.includes('morte') || lowerInput.includes('suicidio') || lowerInput.includes('morrer')) {
Â  Â  Â  Â  typing.remove();
Â  Â  Â  Â  const warningMessage = document.createElement('p');
Â  Â  Â  Â  warningMessage.className = 'ai';
Â  Â  Â  Â  warningMessage.innerHTML = `<strong>IA:</strong> Sentimos que vocÃª pode estar em perigo. Por favor, entre em contato imediatamente com o CVV: <a href="https://www.cvv.org.br/188/" target="_blank">188</a>`;
Â  Â  Â  Â  chatOutput.appendChild(warningMessage);
Â  Â  Â  Â  chatOutput.scrollTop = chatOutput.scrollHeight;
Â  Â  Â  Â  return;
Â  Â  Â  }

Â  Â  Â  try {
Â  Â  Â  Â  const response = await puter.ai.chat(userMessage, { model: 'gpt-4.1-nano' });
Â  Â  Â  Â  typing.remove();
Â  Â  Â  Â  createAndAppendMessage(response, 'ai');
Â  Â  Â  } catch (err) {
Â  Â  Â  Â  typing.remove();
Â  Â  Â  Â  createAndAppendMessage("Ocorreu um erro. Tente novamente.", 'ai');
Â  Â  Â  Â  console.error(err);
Â  Â  Â  }
Â  Â  }

Â  Â  sendBtn.addEventListener('click', handleChatSubmit);
Â  Â  userInput.addEventListener('keypress', (e) => {
Â  Â  Â  if (e.key === 'Enter' && !e.shiftKey) { // Permite quebra de linha com Shift+Enter
Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  handleChatSubmit();
Â  Â  Â  }
Â  Â  });

Â  Â  // LÃ³gica para as tÃ©cnicas expansÃ­veis
Â  Â  document.querySelectorAll('.technique').forEach((item) => {
Â  Â  Â  item.addEventListener('click', () => {
Â  Â  Â  Â  const details = item.nextElementSibling;
Â  Â  Â  Â  const isExpanded = item.getAttribute('aria-expanded') === 'true';

Â  Â  Â  Â  details.style.display = isExpanded ? 'none' : 'block';
Â  Â  Â  Â  item.setAttribute('aria-expanded', !isExpanded);
Â  Â  Â  });
Â  Â  });

Â  Â  // LÃ³gica para o formulÃ¡rio (exemplo, sem backend)
Â  Â  feedbackForm.addEventListener('submit', (event) => {
Â  Â  Â  event.preventDefault();
Â  Â  Â  alert("Obrigado pelo seu feedback! (Esta Ã© uma funÃ§Ã£o de exemplo)");
Â  Â  Â  feedbackForm.reset();
Â  Â  });
Â  });
</script>

</body>
</html>


