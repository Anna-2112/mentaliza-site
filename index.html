<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mentaliza</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f8f9fa; color:#333; }
    header { background:#4CAF50; color:white; padding:15px; text-align:center; }
    nav a { color:white; margin:0 10px; text-decoration:none; font-weight:bold; }
    section { padding:40px 20px; }
    h2 { color:#4CAF50; margin-bottom:20px; }
    .chatbot, .tecnicas, .videos { background:white; margin:20px auto; padding:20px; border-radius:10px; max-width:900px; box-shadow:0 4px 8px rgba(0,0,0,0.1); }
    .cards { display:flex; flex-wrap:wrap; gap:20px; justify-content:center; }
    .card { flex:1 1 200px; background:#f0f0f0; padding:15px; border-radius:10px; text-align:center; }
    iframe { width:100%; height:250px; border-radius:10px; }
    footer { background:#333; color:white; text-align:center; padding:15px; margin-top:40px; }
  </style>
</head>
<body>

  <header>
    <h1>Mentaliza üíö</h1>
    <nav>
      <a href="#chatbot">Chatbot</a>
      <a href="#tecnicas">T√©cnicas</a>
      <a href="#videos">V√≠deos</a>
    </nav>
  </header>

  <section class="hero">
    <h2>Bem-vindo ao Mentaliza</h2>
    <p>Sua plataforma de apoio em sa√∫de mental no trabalho.</p>
    <a href="#chatbot"><button>Come√ßar Chatbot</button></a>
  </section>

  <section id="chatbot" class="chatbot">
    <h2>üí¨ Converse com o MentalizaBot</h2>
  
 <section id="chatIA" class="chatbot">
  <h2>üí¨ Chat IA</h2>
  <div id="chatIAlog" style="height:300px; overflow:auto; padding:10px; border:1px solid #ccc; border-radius:8px; background:#fafafa;"></div>
  <input id="chatIAinput" placeholder="Escreva aqui..." style="width:70%; padding:8px; border-radius:6px; border:1px solid #ccc;">
  <button onclick="sendIA()">Enviar</button>
</section>


  <section id="tecnicas" class="tecnicas">
    <h2>‚ö° T√©cnicas R√°pidas</h2>
    <div class="cards">
      <div class="card">Respira√ß√£o 4-7-8</div>
      <div class="card">Alongamento de 5 min</div>
      <div class="card">Pausa consciente</div>
      <div class="card">Anota√ß√£o de pensamentos</div>
    </div>
  </section>

  <section id="videos" class="videos">
    <h2>üé• V√≠deos Recomendados</h2>
    <div class="cards">
      <div class="card">
        <iframe src="https://www.youtube.com/embed/ZToicYcHIOU" allowfullscreen></iframe>
        <p>Medita√ß√£o guiada</p>
      </div>
      <div class="card">
        <iframe src="https://www.youtube.com/embed/SEfs5TJZ6Nk" allowfullscreen></iframe>
        <p>T√©cnicas de respira√ß√£o</p>
      </div>
    </div>
  </section>

  <footer>
    <p>Mentaliza ¬© 2025 - Todos os direitos reservados</p>
  </footer>
<script type="module">
import { pipeline } from 'https://cdn.jsdelivr.net/npm/@xenova/transformers/dist/transformers.min.js';

let generator;

// 1Ô∏è‚É£ Carregar modelo leve
async function loadModel() {
  generator = await pipeline('text-generation', 'Xenova/gpt2'); 
  appendIA('Sistema', 'Ol√°! Eu sou o MentalizaBot IA. Posso te oferecer dicas educativas e acolhedoras sobre bem-estar. Em risco, ligue 188.');
}
loadModel();

// 2Ô∏è‚É£ Fun√ß√£o para mostrar mensagens no chat
function appendIA(sender, text) {
  const log = document.getElementById('chatIAlog');
  const msg = document.createElement('div');
  msg.style.padding = '6px';
  msg.style.marginBottom = '6px';
  msg.style.borderRadius = '6px';
  msg.style.background = sender==='Voc√™' ? '#e0f7fa' : '#fff';
  msg.innerHTML = `<strong>${sender}:</strong> ${text}`;
  log.appendChild(msg);
  log.scrollTop = log.scrollHeight;
}

// 3Ô∏è‚É£ Fun√ß√£o enviar mensagem
async function sendIA() {
  const input = document.getElementById('chatIAinput');
  const text = input.value.trim();
  if(!text) return;
  appendIA('Voc√™', text);
  input.value = '';

  const prompt = `Voc√™ √© um assistente acolhedor e educativo, nunca faz diagn√≥stico. Sempre redireciona para ajuda em crise. Usu√°rio: "${text}" Responda educadamente.`;

  const output = await generator(prompt, { max_length: 100 });
  appendIA('MentalizaBot', output[0].generated_text.replace(prompt, '').trim());
}
</script>

</body>
</html>
